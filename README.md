# Gmail Folder Organizer

一个帮助整理 Gmail 邮件的 Chrome 扩展。

## 🎯 功能特点

### 当前功能
- 一键整理来自同一发件人的邮件到可折叠文件夹中
- 保持文件夹状态（展开/折叠）
- 支持深色模式
- 显示发件人完整信息（姓名和邮箱）
- 支持撤销操作

### 技术挑战与发现

在开发过程中，我们发现了一些关键的技术限制：

1. **Gmail 行索引机制**
   - Gmail 使用扁平的行索引系统来处理邮件列表
   - 我们的嵌套文件夹结构与 Gmail 的索引机制不兼容
   - 这导致点击邮件时出现错位问题（例如：点击第2行实际打开第6行的邮件）

2. **DOM 结构限制**
   - 当前方案通过移动 DOM 元素来创建文件夹结构
   - 这破坏了 Gmail 的内部事件处理机制
   - 影响了邮件的正常打开和交互功能

3. **分页与动态加载问题**
   - Gmail 使用无限滚动和动态加载
   - 跨页面的邮件组织变得极其复杂
   - 难以处理新邮件到达时的文件夹更新

### 项目状态与未来方向

基于以上发现，我们认为当前的文件夹实现方案需要重新设计。潜在的替代方案包括：

1. **视觉分组**
   - 使用视觉标记而非实际移动邮件
   - 保持 Gmail 原有的 DOM 结构
   - 通过 CSS 实现分组效果

2. **虚拟文件夹**
   - 维护独立的文件夹状态
   - 使用覆盖层显示分组
   - 不改变 Gmail 的基础结构

3. **侧边栏组织**
   - 创建独立的组织面板
   - 参考 Gmail 标签系统
   - 提供更灵活的分组方式

## 💡 设计理念

我们的设计遵循以下最佳实践：

1. **渐进式展示**
   - 简单起步
   - 按需显示高级功能
   - 避免信息过载

2. **上下文操作**
   - 操作靠近内容
   - 保持视觉层次
   - 清晰的交互提示

3. **可逆操作**
   - 简单的撤销/重做
   - 清晰的反馈
   - 避免破坏性更改

4. **一致性模式**
   - 遵循平台约定
   - 使用熟悉的交互模式
   - 保持 Gmail 现有的用户体验

## 🚀 使用方法

1. 安装扩展后，在 Gmail 界面右上角会出现"📁 整理邮件"按钮
2. 点击按钮将自动整理来自同一发件人的多封邮件
3. 可以通过点击文件夹头部来展开/折叠邮件组

## 🛠️ 安装方法

1. 下载源代码
2. 打开 Chrome/Brave 扩展页面 (chrome://extensions)
3. 启用"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择源代码文件夹

## 🤝 贡献指南

欢迎贡献！请随时提交 Pull Request。对于重大更改，请先开 issue 讨论您想要更改的内容。

### 贡献步骤

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📝 更新日志

### [1.0.0] - 2024-03-xx
- 实现基础文件夹组织功能
- 添加撤销功能
- 发现并记录关键技术限制
- 为未来改进提出新方向

## ⚖️ 许可证

该项目基于 MIT 许可证开源 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🙋 支持

如果您遇到任何问题或有改进建议，请：

1. 查看 [issues](https://github.com/tobyatgithub/gmail-folder-extension/issues) 页面
2. 如果没有找到相关问题，请创建新的 issue
3. 提供详细的问题描述和复现步骤

## 🎉 致谢

- 感谢所有贡献者对项目的支持
- 特别感谢 Gmail 团队提供的优秀邮件服务平台

## 📞 联系方式

- 项目维护者: [Toby Huang](https://github.com/tobyatgithub)
- Email: toby.fangyuan@gmail.com

---
⌨️ 用 ❤️ 制作